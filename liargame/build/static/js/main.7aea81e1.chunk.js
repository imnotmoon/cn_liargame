/*! For license information please see main.7aea81e1.chunk.js.LICENSE.txt */
(this.webpackJsonpliargame=this.webpackJsonpliargame||[]).push([[0],{24:function(e,t){function c(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}c.keys=function(){return[]},c.resolve=c,e.exports=c,c.id=24},25:function(e,t){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){},52:function(e,t){},53:function(e,t){},54:function(e,t){},55:function(e,t){},56:function(e,t){},57:function(e,t){},58:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(41),r=c.n(s),i=(c(47),c(2)),o=(c(48),c(9)),j=c(0);var l=function(e){var t=e.chat,c=t.content,n=t.from;return Object(j.jsxs)("span",{className:"self"===n?"chatMessage my_message":"chatMessage",children:[Object(j.jsx)("span",{className:"chat__profile",style:{marginRight:"5px"},children:"self"===n?"":n}),Object(j.jsx)("span",{className:"chat__text",children:c})]})};c(50);var u=function(e){var t=e.title,c=(e.mount,Object(n.useState)("")),a=Object(i.a)(c,2),s=a[0],r=a[1],u=Object(n.useState)([]),d=Object(i.a)(u,2),b=d[0],O=d[1],f=Object(n.useContext)(E),m=Object(i.a)(f,2),h=m[0],x=(m[1],function(e){r(e.currentTarget.value)}),v=function(e){e.preventDefault(),console.log("emit - chat : ",h,s),C.emit("chat",{state:"chat",player:h,text:s}),r("")},p=function(e){"Enter"!==e.key&&"Return"!==e.key||v(e)};return Object(n.useEffect)((function(){return document.getElementById("input-text").addEventListener("keypress",p),function(){try{document.getElementById("input-text").removeEventListener("keypress",p)}catch(e){console.log("\uc544\uc9c1..")}}})),Object(n.useEffect)((function(){C.on("chat",(function(e){var t=e.state,c=e.player,n=e.text;console.log("receive - chat",c,n,h),c=c===h?"self":c,"chat"===t&&O([].concat(Object(o.a)(b),[{content:n,from:c}])),console.log(b)}))})),Object(j.jsx)(E.Consumer,{children:function(){return Object(j.jsxs)("div",{className:"chat frame",children:[Object(j.jsx)("div",{className:"chat__title",children:Object(j.jsx)("p",{children:t})}),Object(j.jsx)("div",{className:"chat__content",children:b.map((function(e,t){return Object(j.jsx)(l,{chat:e,className:"chat__messages"},t)}))}),Object(j.jsxs)("div",{className:"chat__sender",children:[Object(j.jsx)("input",{type:"text",onChange:x,value:s,id:"input-text"}),Object(j.jsx)("button",{onClick:v,children:"\uc804\uc1a1"})]})]})}})};c(51),c(58);var d=function(e){var t=e.liar,c=e.title,a=Object(n.useState)(3),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useContext)(E),u=Object(i.a)(l,2),d=u[0],b=(u[1],Object(n.useContext)(v)),O=Object(i.a)(b,2),f=O[0],m=(O[1],function(e){r>0?(f.forEach((function(t){t.vote=t.nickname===e.currentTarget.getAttribute("data")?1:0})),console.log(f),o((function(e){return e-1}))):alert("\ub354 \uc774\uc0c1 \ud22c\ud45c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")});return Object(j.jsx)(v.Consumer,{children:function(){return Object(j.jsxs)("div",{className:"vote frame",children:[Object(j.jsx)("div",{className:"vote__title",children:Object(j.jsx)("p",{children:c})}),t?Object(j.jsx)("div",{className:"vote__status",children:f.map((function(e,t){return e.nickname!==d&&Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:e.nickname}),Object(j.jsx)("span",{children:"\ub098\ub97c \uc9c0\ubaa9"})]},t)}))}):Object(j.jsxs)("div",{className:"vote__players",children:[f.map((function(e,t){return e.nickname!==d&&Object(j.jsxs)("div",{onClick:m,data:e.nickname,className:"vote__cell"+(1===e.vote?" check":""),children:[Object(j.jsx)("span",{children:e.nickname}),Object(j.jsx)("div",{className:"vote__check",children:"O"})]},t)})),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:["\ub0a8\uc740 \ud22c\ud45c \ud69f\uc218 : ",r,"/3 \ud68c"]})})]})]})}})},b=c(10),O=c.n(b),f=c(17),m=(c(60),{liar:"\uc870\uc138\ud76c",picked:{"\ubb38\uc0c1\ud601":"\uc870\uc138\ud76c","\uc774\ud558\uc740":"\uc870\uc138\ud76c","\uc815\uc138\uc740":"\ubb38\uc0c1\ud601"}});var h=function(e){var t=e.liar,c=e.nickname,a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],l=s[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),b=d[0],h=d[1];return Object(n.useEffect)((function(){if(console.log(m),C.on("result",function(){var e=Object(f.a)(O.a.mark((function e(t){var c,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.state,n=t.liar,a=t.picked,console.log("result message received : ",n,a),"result"==c&&(m.liar=n,m.picked=a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),2===t){var e=0;Object.keys(m.picked).forEach((function(t){var c=m.picked[t];console.log(t,c),c===m.liar&&(e+=1,l((function(e){return[].concat(Object(o.a)(e),[t])})),console.log(r))})),h(!(e>=2))}else Object.keys(m.picked).forEach((function(e){var t=m.picked[e];e===c&&t===m.liar&&(console.log(c,e,m.liar,t),console.log("\uc774\uacbc\uad6c\ub9cc"),h((function(e){return!e})))}))}),[]),Object(j.jsxs)("div",{className:"finishModal frame modal",children:[Object(j.jsx)("div",{className:"title",children:!0===b?"\uac8c\uc784\uc5d0\uc11c \uc2b9\ub9ac\ud588\uc2b5\ub2c8\ub2e4":"\uac8c\uc784\uc5d0\uc11c \ud328\ubc30\ud588\uc2b5\ub2c8\ub2e4"}),!0===b?"":1===t?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"\ub77c\uc774\uc5b4\ub294"}),Object(j.jsx)("div",{children:m.liar})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"\ub098\ub97c \ub77c\uc774\uc5b4\ub85c \uc9c0\ubaa9\ud55c \uc0ac\ub78c"}),Object(j.jsx)("div",{children:r.map((function(e,t){return Object(j.jsx)("span",{children:e},t)}))})]})]})};c(61);function x(e){var t=e.liar,c=Object(n.useState)(120),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),b=l[0],O=l[1],f=Object(n.useState)([]),m=Object(i.a)(f,2),x=m[0],p=m[1],g=Object(n.useState)(!1),k=Object(i.a)(g,2),N=k[0],_=k[1],y=Object(n.useContext)(E),w=Object(i.a)(y,2),S=w[0];w[1];Object(n.useEffect)((function(){p([{nickname:"\uc870\uc138\ud76c",vote:0},{nickname:"\ubb38\uc0c1\ud601",vote:0},{nickname:"\uc724\ub450\ud604",vote:0},{nickname:"\uc774\ud558\uc740",vote:0}]),F(),O(!0)}),[]);var F=function(){var e=120,t=setInterval((function(){if(r((function(e){return e-1}),e-=1),0===e){var c=x.find((function(e){return 1===e.vote}));C.emit("vote",c),_(!0),clearInterval(t)}}),1e3)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(E.Consumer,{children:function(){return b&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:s}),Object(j.jsxs)("div",{className:"inGame",children:[Object(j.jsx)(v.Provider,{value:[x,p],children:1===t?Object(j.jsx)(d,{liar:!1,title:"\ub204\uac00 \ub77c\uc774\uc5b4\uc785\ub2c8\uae4c?"}):Object(j.jsx)(d,{liar:!0,title:"\ub098\ub97c \uc9c0\ubaa9\ud55c \uc0ac\ub78c"})}),Object(j.jsx)(u,{title:1===t?"\ub2e8\uc5b4\ub97c \uc124\uba85\ud574\uc8fc\uc138\uc694":"\ub2e8\uc5b4\uc5d0 \ub300\ud574 \uc544\ub294\ucc99 \ud574\uc8fc\uc138\uc694",mount:b})]}),N&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{liar:t,nickname:S}),Object(j.jsx)("div",{className:"modal-background"})]})]})}})})}var v=a.a.createContext();c(62);var p=function(e){var t=e.players;return Object(j.jsxs)("div",{className:"waitingRoom frame",children:[Object(j.jsx)("div",{className:"waitingRoom__title",children:Object(j.jsx)("p",{children:"\ub300\uae30\uc2e4"})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["\ucc38\uc5ec\uc778\uc6d0 : ",t.length,"/4\uba85"]}),t.map((function(e,t){return Object(j.jsx)("div",{className:"waitingRoom__player",children:Object(j.jsx)("p",{children:e})},t)}))]})]})};c(63);var g=function(e){var t=e.liar,c=e.word;return Object(j.jsxs)("div",{className:"startGameModal frame modal",children:[Object(j.jsx)("div",{className:"title",children:t?Object(j.jsx)("p",{children:"\ub2f9\uc2e0\uc740 \ub77c\uc774\uc5b4\uc785\ub2c8\ub2e4."}):Object(j.jsx)("p",{children:"\ub2f9\uc2e0\uc740 \ub77c\uc774\uc5b4\uac00 \uc544\ub2d9\ub2c8\ub2e4."})}),!t&&Object(j.jsx)("div",{className:"word",children:Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:c})})}),Object(j.jsx)("div",{className:"startGameModal__timer",children:"5\ucd08 \ub4a4 \uac8c\uc784\uc774 \uc2dc\uc791\ub429\ub2c8\ub2e4"})]})};c(64);function k(){var e=Object(n.useContext)(E),t=Object(i.a)(e,2),c=(t[0],t[1],Object(n.useContext)(S)),a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),m=b[0],h=b[1],x=Object(n.useState)(!1),v=Object(i.a)(x,2),k=v[0],N=v[1],_=Object(n.useState)("\ucef4\ub124"),y=Object(i.a)(_,2),w=y[0],F=y[1];Object(n.useEffect)((function(){return C.on("enter",function(){var e=Object(f.a)(O.a.mark((function e(t){var c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.state,n=t.player,console.log("enter",n),"enter"===c&&l((function(e){return n}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C.on("gameset",(function(e){var t=e.state,c=e.player,n=e.liar,a=e.word;console.log("gameset",c,n,a),"gameset"===t&&(N(!!n),n&&F(a))})),C.offAny()}),[]);var M=function(){l([].concat(Object(o.a)(r),["John Doe"])),3===r.length&&(h(!0),setTimeout((function(){h(!1),c(k?2:1)}),5e3))};return Object(j.jsx)(E.Consumer,{children:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:M,children:"\ud14c\uc2a4\ud2b8"}),Object(j.jsx)(S.Consumer,{children:function(){return Object(j.jsxs)("div",{className:"waiting",children:[Object(j.jsx)(p,{players:r}),Object(j.jsx)(u,{title:"\ucc44\ud305",mount:!0})]})}}),m&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{liar:k,word:w}),Object(j.jsx)("div",{className:"modal-background"})]})]})}})}c(65);var N=function(){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("p",{children:"\ub77c\uc774\uc5b4\uac8c\uc784"}),Object(j.jsx)("div",{className:"header__exitBtn",onClick:function(){window.open("about:blank","_self"),window.close()},children:Object(j.jsx)("p",{children:"\ub098\uac00\uae30"})})]})};c(66);function _(e){var t=e.setNickname,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],r=a[1],o=function(e){r(e.currentTarget.value)},l=function(e){t(s),C.emit("enter",{state:"enter",player:s}),console.log("emit 'enter' message : ")};return Object(j.jsx)(E.Consumer,{children:function(){return Object(j.jsxs)("div",{className:"nicknameModal frame modal",children:[Object(j.jsx)("div",{className:"title",children:"\uc548\ub155\ud558\uc138\uc694!"}),Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("p",{children:"\uc0ac\uc6a9\ud560 \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})}),Object(j.jsx)("input",{type:"text",placeholder:"\ub2c9\ub124\uc784",onChange:o}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"submitBtn",onClick:l,children:"\ud655\uc778"})]})}})}var y=c(42),C=c.n(y).a.connect("".concat("http://13.125.236.234:3001/"));function w(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(i.a)(s,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){C.on("connection",(function(e){console.log(e)}),[])})),Object(j.jsx)(E.Provider,{value:[c,a],children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(N,{}),Object(j.jsx)(S.Provider,{value:l,children:0!==o?Object(j.jsx)(x,{liar:o}):Object(j.jsx)(k,{})}),!c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_,{setNickname:a}),Object(j.jsx)("div",{className:"modal-background"})]})]})})}var E=a.a.createContext(),S=a.a.createContext();r.a.render(Object(j.jsx)(w,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.7aea81e1.chunk.js.map